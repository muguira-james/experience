<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>

<style>
    #menu {
        position: absolute;
        background: #fff;
        padding: 10px;
        font-family: 'Open Sans', sans-serif;
    }
</style>

<div id='map'></div>

<script>

mapboxgl.accessToken = 'pk.eyJ1IjoiamFtZXMtbXVndWlyYSIsImEiOiJjajNlazFjOGgwMHA3MzNvZXJqeHYwdmZwIn0.dLuxC5Fai--FHNp3W_FNYw';
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/satellite-v9',
    zoom: 16,
    center: [-74.697639, 40.654732 ]
});
// Add zoom and rotation controls to the map.
map.addControl(new mapboxgl.NavigationControl());


hole1Coords = {
    "type": "LineString",
    "coordinates": [
        [-74.692720, 40.653678],
        [-74.692860, 40.655093],
        [-74.693523, 40.656333]
      ]
};

// comment
var players = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "geometry": {
          "type": "Point",
          "coordinates": [-74.692520, 40.653665]
      },
      "properties": {
        "playerName": "Suzann_Pettersen",
        "playerIcon": "http://localhost:8080/Suzann_Pettersen.png",
      }
    },
    {
      "type": "Feature",
      "geometry": {
          "type": "Point",
          "coordinates": [-74.692920, 40.653665]
        },
      "properties": {
        "playerName": "Mi_Hyang_Lee",
        "playerIcon": "http://localhost:8080/Mi_Hyang_Lee.png"
      }
    }
]
};

map.on('load', function () {
    map.addSource("hole1", {
        "type": "geojson",
        "data": {
            "type": "Feature",
            "properties": {},
            "geometry": hole1Coords
        }
    });

    map.addLayer({
        "id": "hole1",
        "type": "line",
        "source": "hole1",
        "layout": {
            "line-join": "round",
            "line-cap": "round"
        },
        "paint": {
            "line-color": "#FFFF00",
            "line-width": 4
        }
    });
    map.addSource("playerInfo", {
      "type": "geojson",
      "data": players
    });
    
    map.loadImage('http://localhost:8080/Suzann_Pettersen.png', (error, image) => {
            if (error) throw error;
            map.addImage('suzann', image);
            map.addLayer({
                "id": "points1",
                "type": "symbol",
                "source": {
                    "type": "geojson",
                    "data": {
                        "type": "FeatureCollection",
                        "features": [{
                            "type": "Feature",
                            "geometry": {
                                "type": "Point",
                                "coordinates": [-74.692520, 40.653665]
                            }
                        }]
                    }
                },
                "layout": {
                    "icon-image": "suzann",
                    "icon-size": 0.20
                }
            });
        });

        map.loadImage('http://localhost:8080/Mi_Hyang_Lee.png', (error, image) => {
                if (error) throw error;
                map.addImage('Mi', image);
                map.addLayer({
                    "id": "points2",
                    "type": "symbol",
                    "source": {
                        "type": "geojson",
                        "data": {
                            "type": "FeatureCollection",
                            "features": [{
                                "type": "Feature",
                                "geometry": {
                                    "type": "Point",
                                    "coordinates": [-74.692920, 40.653665]
                                }
                            }]
                        }
                    },
                    "layout": {
                        "icon-image": "Mi",
                        "icon-size": 0.20
                    }
                });
            });

});

</script>

</body>
</html>
